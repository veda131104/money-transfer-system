<section class="login-shell">
    <div class="ambient-orbit"></div>
    <div class="login-grid">
        <div class="login-panel">
            <div class="brand">
                <span class="brand-mark">PF</span>
                <div>
                    <p class="brand-name">PayFid</p>
                    <p class="brand-tag">Trusted rails for modern payouts</p>
                </div>
            </div>

            <mat-card class="card">
                <header class="card-header">
                    <h1>Reset Password</h1>
                    <p>Set a new secure password for your PayFid account.</p>
                </header>

                <form class="form" [formGroup]="form" (ngSubmit)="submit()">
                    <mat-form-field appearance="outline" class="field">
                        <mat-label>New Password</mat-label>
                        <input matInput type="password" placeholder="Min 8 characters" formControlName="password" />
                        @if (form.get('password')?.hasError('required')) {
                        <mat-error>Password is required</mat-error>
                        }
                        @if (form.get('password')?.hasError('minlength')) {
                        <mat-error>Password must be at least 8 characters</mat-error>
                        }
                    </mat-form-field>

                    <mat-form-field appearance="outline" class="field">
                        <mat-label>Confirm New Password</mat-label>
                        <input matInput type="password" placeholder="Repeat password"
                            formControlName="confirmPassword" />
                        @if (form.hasError('mismatch')) {
                        <mat-error>Passwords do not match</mat-error>
                        }
                    </mat-form-field>

                    <button class="primary" type="submit" mat-flat-button [disabled]="isSending">
                        {{ isSending ? 'Resetting...' : 'Reset Password' }}
                    </button>

                    <button class="ghost" type="button" mat-stroked-button routerLink="/">
                        Back to Login
                    </button>
                </form>
            </mat-card>
        </div>
    </div>
</section>